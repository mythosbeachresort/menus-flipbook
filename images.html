<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apollo Menu Flipbook</title>
  <link rel="stylesheet" href="https://unpkg.com/page-flip/dist/css/page-flip.min.css" />
  <style>
    body{margin:0;background:#0b0c10;color:#f6f7f8;font-family:sans-serif}
    header{padding:10px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;gap:10px}
    h1{font-size:16px;margin:0}
    .btn{padding:6px 10px;border-radius:6px;background:#14161a;color:#fff;border:1px solid rgba(255,255,255,.2);cursor:pointer}
    main{display:grid;place-items:center;height:calc(100vh - 50px)}
    #flipbook{width:min(100%,1100px);height:calc(100vh - 80px);background:#111;border-radius:12px;overflow:hidden}
    .page img{width:100%;height:100%;object-fit:contain;background:#fff}
  </style>
</head>
<body>
  <header>
    <h1>Apollo Menu</h1>
    <button class="btn" id="prev">◀ Prev</button>
    <button class="btn" id="next">Next ▶</button>
    <button class="btn" id="zoom">Zoom</button>
    <button class="btn" id="fs">Full</button>
    <span id="status" style="margin-left:auto;font-size:12px;color:#aaa">Loading…</span>
  </header>
  <main>
    <div id="flipbook"></div>
  </main>

  <script src="https://unpkg.com/page-flip/dist/js/page-flip.browser.min.js"></script>
  <script>
  (async function(){
    const base = "menus/apollo/"; // folder with your images
    const ext = "jpg";            // change if you exported png/webp
    const max = 50;               // max pages to try

    const container=document.getElementById('flipbook');
    const status=document.getElementById('status');
    const s={w:800,h:1000};
    const flip=new St.PageFlip(container,{width:s.w,height:s.h,size:'stretch',usePortrait:true,showCover:true,mobileScrollSupport:true});
    prev.onclick=()=>flip.flipPrev();
    next.onclick=()=>flip.flipNext();
    let z=false;zoom.onclick=()=>{z=!z;container.style.transform=z?'scale(1.3)':'scale(1)';container.style.transformOrigin='center'};
    fs.onclick=()=>{if(!document.fullscreenElement)container.requestFullscreen();else document.exitFullscreen();};

    const pages=[];
    for(let i=1;i<=max;i++){
      const url=`${base}${i}.${ext}`;
      const ok=await new Promise(r=>{const im=new Image();im.onload=()=>r(true);im.onerror=()=>r(false);im.src=url+'?v='+Date.now();});
      if(ok){
        const d=document.createElement('div');d.className='page';
        d.innerHTML=`<img src=\"${url}\" alt=\"Page ${i}\">`;
        pages.push(d);
      }else if(pages.length){break;}
    }
    if(pages.length){flip.loadFromHTML(pages);status.textContent='';}
    else{status.textContent='No images found in '+base;}
  })();
  </script>
</body>
</html>
